# 상품 관리 (Product Management) 기획서

상품 관리 페이지는 고객 관리 페이지의 보고서 작성 시 참조될 **'마스터 데이터(Master Data)'** 라이브러리 역할을 수행합니다. 재고 관리와 시각적 감성(Vibe)은 공유하되, 수치적 장부 정합성 로직은 적용하지 않는 고성능 경량화를 지향합니다.

---

## 1. 시각적 표준 (Visual Standards)

재고 관리 모듈에서 정립된 **'High-Performance Vibe'** 표준을 100% 계승하며, 상품 관리 특유의 프리미엄 요소를 추가합니다.

### 1.1 텍스트 및 공백 규격
*   **날짜/시간 공백**: 날짜와 시간 사이엔 반드시 2칸 공백(`  `)을 사용함. (예: `2024-01-01  14:00`)
*   **콜론 규격**: 일반적인 설명의 콜론(`:`)은 전 1칸, 후 2칸 공백을 사용함. (예: `항목 :  값`)
*   **상태 표시**: 데이터가 없는 경우 `-` (gray.400) 처리 및 중앙 정렬.

### 1.2 테이블 및 컴포넌트 스타일
*   **프레임리스**: 외부 테두리 없는 모던한 레이아웃.
*   **호버 효과**: 행 호버 시 `gray.50` 배경색 적용하여 고객 관리 페이지 및 재고 관리 페이지와 시각적 통일성을 유지함. (v1.86)
*   **구분선 (Divider)**: `6px` 두께, 브랜드 극명한 그라데이션(`brand.50` → **`brand.700`** → `brand.50`), 미체 그림자(`shadow="md"`) 적용. 섹션 간격 확보를 위해 상하 패딩(`py=4`)을 충분히 부여함.

---

## 2. 테이블 칼럼 구성 (Column Schema) - 체크박스 배제

상품 관리는 자산 식별의 명확성과 관리 효율을 위해 **체크박스를 제거**하고 5칼럼(기능상 6칸) 체계가 유지되도록 설계합니다.

| 칼럼명 | 너비(%) | 정렬 | 특징 |
|:---:|:---:|:---:|:---|
| **메뉴** | 5% | 중앙 | 드래그 핸들 전용 공간 (헤더 제목 없음). 드래그 시 주변 텍스트 긁힘 방지(`user-select: none`) 및 가로 스크롤 차단 적용. |
| **카테고리** | 9% | 중앙 | 상품 전용 5종 (전자칠판, 터치센서, S/W, 인강 사이트, 빔프로젝터). (v1.5) |
| **상품명** | 13% | 좌측 | `gray.800`, `bold` 처리된 주 식별자. |
| **판매가** | 9% | 중앙 | 수치 가독성을 위해 천 단위 콤마(`,`) 및 중앙 정렬 적용. (v1.5) |
| **상품 구성** | 54% | 좌측 | 선택된 재고 리스트. 원문자(①, ②...)가 자동 부여된 품목의 나열. |
| **상세** | 10% | 중앙 | `Badge` 스타일의 상세보기 버튼. 클릭 시 수정/삭제 모달 호출. |

---



---
## 3. 기능 정의 (Functionality)

### 3.1 정보 관리 (CRUD)
*   **등록/수정**: 신규 상품 추가 및 기존 정보 변경. (등록/수정 시 날짜 표기 규격 준수)
*   **삭제**: 상세 정보 모달 내 **푸터 좌측**에 배치. 얇은 테두리가 있는 텍스트형 버튼 스타일(`fontWeight: 400`)을 사용하며, 삭제 전 사용자 확인(`confirm`) 절차를 거침.
*   **순서 변경 (Reorder)**: 테이블 내에서 드래그 앤 드롭으로 상품 노출 순서를 자유롭게 조정 가능.
*   **검색**: 카테고리, 상품명, **상품 구성** 키워드 기반의 실시간 필터링.

### 3.2 상품 구성 (Composition) 특화 로직
*   **데이터 소스**: 최근 1년 이내에 재고 관리(Inventory)에 기록이 있는 물품명으로 한정.
*   **입력 UX**: 드롭다운 선택 시 하단에 리스트로 누적. 리스트 내에서도 드래그 앤 드롭 정렬이 가능하며, 이때 스크롤바가 나타나지 않도록 `overflow: hidden` 처리.
*   **순번 관리**: 추가된 순서대로 원문자(①, ②, ③...) 자동 부여. 
*   **저장 포맷**: 각 품목을 `, `(공백 포함 콤마)로 구분하여 저장. (예: "①86인치 전자칠판, ②터치센서")

### 3.3 로직 한계 (Constraints)
*   **장부 정합성 제외**: 입출고 이력 관리나 '자가 치유 엔진'을 적용하지 않음. 오직 마스터 데이터로서의 역할에 충실함.
*   **모집단 격리**: 재고 관리(Inventory) 모듈의 로직이나 UI는 레거시로서 절대 건드리지 않으며, 상품 관리 모드 진입 시에만 위 기능들이 활성화됨.

---

## 4. 데이터 구조 (Firebase Schema)

```typescript
{
  type: "product",
  category: string,         // 전자칠판, 터치센서, S/W 등
  name: string,             // 상품명
  price: number,            // 판매가
  composition: string,      // 상품 구성 (예: "①86인치 전자칠판 / ②터치센서")
  lastActionDate: string,   // 최종 수정일 (yyyy-MM-dd  HH:mm)
  lastOperator: string,      // 최종 수정자
  createdAt: timestamp       // 시스템 등록 기록
}
```

---

## 5. 버전 기록 (Version History)

| 버전 | 날짜 | 변경 사항 |
|:---|:---|:---|
| v1.0 | 2026-01-31 | 상품 관리 페이지 초기 설계 및 마스터 데이터 스키마 확립 |
| v1.1 | 2026-02-01 | 재고 관리 통합 계획서와 상품 구성(Composition) 정렬 사양 연동 |
| v1.2 | 2026-02-01 | **리스트 호버 효과(gray.50) 통일 및 6칸 정규 컬럼 스키마 롤백 완결** |
| v1.3 | 2026-02-01 | **상품 테이블 헤더에서 드래그 아이콘(Ξ) 제거 및 공간 여백화 완결** |
| v1.4 | 2026-02-01 | **상품 구성 모달 내 불필요한 '구분선 추가' 버튼 및 관련 로직 전수 제거 완결** |
| v1.5 | 2026-02-01 | **최신 UI 표준에 따른 칼럼 정렬(중앙) 규격 동기화 완결** |
| v1.6 | 2026-02-02 | **상품 순서 변경(Reorder) 기능 명세 추가** |

---
> [!NOTE]
> 본 문서는 상품 관리 모듈의 최종 설계 기준점입니다. 구현된 코드는 본 문서의 시각적/기능적 표준을 최우선으로 따릅니다.
