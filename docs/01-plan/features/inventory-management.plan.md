---
template: plan
version: 1.74
description: 재고 관리 인터페이스 및 데이터 로직 통합 계획서 (Full-Version 복구)
variables:
  - feature: inventory-management
  - project: antigravity-teasy-crm
  - status: production-ready
---

# 재고 관리 (inventory-management) 통합 계획서

> **요약**: 자산 관리 시스템의 물리적/논리적 일관성을 위한 기술 사양서. 
> 이 문서는 검색 강조, 자동 완성, 데이터 무결성 검증 등 모든 실무 로직을 포함합니다.

---

## 1. 개요 (Overview)

### 1.1 목적
재고 및 상품의 입출고 현황을 투명하게 기록하고, 수정 이력을 시각적으로 동질화하여 관리 효율성을 극대화함. '고객 관리' 페이지의 UI 규준을 최우선 표준으로 삼음.

---

## 2. 시각적 표준 (Visual Standards)

### 2.1 텍스트 및 기호 정규화
*   **날짜 포맷**: `yyyy-MM-dd  HH:mm` (날짜와 시간 사이 **공백 2칸** 고정).
*   **구분 기호(콜론)**: ` :  ` (앞 공백 1칸, 뒤 **공백 2칸**) 표준 적용.
*   **부재 데이터**: 데이터가 없는 경우 **회색(`gray.400`) 하이픈(`-`)**으로 표시함.
    *   **고정 정렬 (Standard Alignment)**: 
        *   **중앙 정렬 (Center)**: 카테고리, 등록/수정일자, 담당자, 입고(+), 출고(-), 재고, 순번, 상세보기 버튼 등 핵심 식별 및 수치 데이터. (v1.78)
        *   **좌측 정렬 (Left)**: 물품명, 납품처, 상품명, 상품 구성, 수정사항(내용) 등 텍스트 중심 데이터.
    *   **가변 정렬 (Row-level Alignment Logic)**: 데이터 부재 시(`-` 또는 `0`) 시각적 균형을 위해 기존 설정을 무시하고 무조건 **`center`** 정렬을 수행함.
    *   **전체 부재**: 테이블 전체에 데이터가 없는 경우 "조회된 재고/상품 데이터가 없습니다." 문구와 함께 `TeasyPlaceholderText`를 노출함 (`py: 20`, colSpan 13/8 적용).
*   **검색창 Placeholder**: "카테고리 또는 품목명 검색" 표준 적용. (v1.40)
*   **검색 강조**: 검색어 일치 구간은 노란색(`yellow.200`) 하이라이트로 시각화하며, **대소문자 구분 없는 실시간 필터링(gi)**을 수행함. (v1.45)
    *   **스타일**: `fontWeight: extrabold`, `borderRadius: sm`, `px: 0.5` 적용.
*   **날짜 출력 정규화**: 소스 데이터의 공백 상태와 관계없이 UI 출력 시 정규식(`replace(/\s+/g, "  ")`)을 통해 **공백 2칸**을 강제함.
*   **가변 정렬 (Dynamic Alignment)**:
    *   데이터 존재 시: 물품명/카테고리/규격(좌), 수량/단가/번호(우/중앙) 기본 정렬.
    *   데이터 부재 시: `-` 또는 `0`인 경우, 시각적 균형을 위해 컬럼 정렬 설정을 무시하고 **중앙 정렬** 수행.

### 2.2 버튼 및 필터 스타일
*   **내용수정 버튼**: 
    *   **노출 규칙**: 재고 관리 모드 시 항상 노출되나, 선택된 행이 없을 경우 **비활성화(`isDisabled`)** 상태로 표시함. (v1.77)
    *   `variant`: `outline`, `shadow`: `sm`
    *   `borderColor`: `brand.500` (보라색), `color`: `brand.500`, `bg`: `transparent`
    *   `hover`: `bg: brand.50`, `borderColor: brand.600`
    *   **전용 아이콘**: `MdSearch`(검색), `MdAdd`(추가), `MdOpenInNew`(수정) 기호를 표준으로 사용함.
    *   **동적 라벨**: 모드에 따라 **`재고 추가`** 또는 **`상품 추가`**로 자동 전환됨. (v1.52)
*   **버튼 그룹 레이아웃**: 상단 액션 버튼(수정/추가) 간의 간격은 `HStack spacing: 3`을 적용함. (v1.43)
*   **검색창 스타일**: `maxW: 350px`, `h: 45px`, `focusBorderColor: brand.500`, `bg: white` 적용. (v1.73)
    *   **아이콘**: `MdSearch` (color: gray.400, size: 20px).
*   **정렬 필터 (Global Standard)**:
    *   고객 관리 페이지(`src/app/customers/page.tsx`)의 `FilterBar` 스타일을 준수함.
    *   사용 컴포넌트: `CustomSelect`, 너비: `210px`, Placeholder: "정렬 필터".
    *   **내부 구성**: "선택 안함"과 필터 항목 사이에는 **시각적 구분선(isDivider)**을 배치하여 그룹화함. (v1.47)
    *   항목 접두어: 도트(`·`) 사용, 선택 시 보라색(`brand.600`) 하이라이트.

---

### 2.3 특수 인터랙션 및 컬러
*   **슬라이딩 토글**: 
    *   **규격**: 전체 `140x34px`, 내부 슬라이더 `67x28px` (Offset 3px/70px).
    *   **애니메이션**: `transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1)` 적용.
    *   **행구 행위**: 클릭 시 텍스트 블록 방지를 위해 **`userSelect: none`** 속성 부여.
    *   **피드백**: 활성 모드에 따라 `brand.500` 텍스트 컬러 및 `800` 가중치 전환 (Text Layer `zIndex: 1` 배치).
    *   **상태 리셋**: 모드 전환 시 선택된 자산 ID(`selectedAssetId`)를 즉시 초기화하여 컨텍스트 혼선을 차단함.
*   **상품 데이터 가공**: 상품 모드의 `비고(notes)` 필드는 `applyColonStandard`가 적용되며, `whiteSpace: pre-wrap` 및 `display: inline-block` 속성을 통해 수직 확장을 지원함. (v1.51)
*   **스마트 툴팁**: 
    *   데이터가 컬럼 너비를 초과하여 말줄임(...) 처리가 발생한 경우에만 툴팁을 노출함.
    *   **시각 속성**: `bg: gray.800`, `color: white`, `borderRadius: lg`, `hasArrow`, `fontSize: xs`, **`placement: top`** 적용.
    *   **멀티라인 지능 판별**: 줄바꿈이 포함된 수정 로그의 경우 `noNowrap` 모드로 작동하며, 수평 너비가 아닌 **스크롤 높이(`scrollHeight`)**를 기준으로 툴팁 노출 여부를 결정함. (v1.35)
    *   **기호 스타일**: 기호 자체는 `fontWeight: normal`로, 수치는 `bold`로 하여 대비를 줌.
    *   **기호 간격**: 부호와 숫자 사이에 `mr={0.5}`의 미세 간격을 두어 가독성을 높임.
*   **데이터 호환성 (Compatibility)**: 정규화되지 않은 레거시 데이터 처리를 위해 `getTime` 유틸리티를 적용하여 Firestore `Timestamp`와 JS `Date` 타입을 혼용 지원함.
*   **그리드 시각 사양 (Grid Specs)**:
    *   **헤더 구조**: 출납현황(6), 수정내용(3) 등 논리적 그룹화를 위해 **`rowSpan` 및 `colSpan` 기반의 2단 복합 헤더** 구조 적용.
    *   **헤더 스타일**: `bg: gray.50`, `fontSize: xs`, `fontWeight: 800`, `position: sticky`.
    *   **라인 컬러**: 전체 셀 테두리 및 수직 구분선은 **`gray.50`**, 히스토리 행 사이의 구분선은 **`gray.100`** 적용.
    *   **내용 가독성**: 수정 로그 텍스트는 **`lineHeight: 1.4`**를 적용하여 다단 출력 시 가독성을 확보함.
    *   **수직 정렬 (V-Align)**: 
        *   헤더 및 일반 데이터(날짜, 수량 등): **`middle`** 정렬로 일관성 유지.
        *   수정 이력 데이터(시간, 내용 등): 데이터 누적 구조를 고려하여 **`top`** 정렬을 적용함. (v1.47)
    *   **물리 높이 및 패딩**: 모든 데이터 행은 **`py: 2`**의 표준 패딩을 가지며, 헤더 행(`Tr`)은 **`27.5px` (재고)** 또는 **`55px` (상품)**, 히스토리 로우(`Grid`)는 **`minH: 34px`**로 정밀 제어함. (v1.52)
*   **행 선택 시각 효과 (Selection UX)**: 
    *   **하이라이트**: 선택된 행은 **`brand.50` (연보라)** 배경색을 가지며, 동일 행 재클릭 시 선택이 해제되는 **토글(Toggle)** 방식을 적용함.
    **호버 피드백**: 마우스 오버 시 **`gray.50`** 배경색을 적용하여 고객 관리 페이지와 시각적 통일성을 유지함. (v1.74)
    *   **컨트롤**: 헤더 체크박스는 **`isDisabled`** 상태로 고정하며, 행 체크박스는 **`colorScheme: brand`**를 사용함. (v1.47)
    *   셀 전체에 `cursor: pointer`를 적용하고 체크박스 자체는 **`pointerEvents: none`**으로 설정함.
*   **고정 레이아웃 무결성**: `tableLayout: fixed` 환경에서 말줄임(...)을 정상 작동시키기 위해 모든 Td에 **`overflow: hidden`** 속성을 강제함. (v1.42)
*   **수치 가중치 (Font Weights)**:
    *   **In-row Stock**: `fontWeight: extrabold` (총 재고 강조).
    *   **Member Price**: `fontWeight: semibold` (단가 가시성).
*   **컨테이너 규격**: 테이블 전체 박스는 **`borderRadius: xl`, `border: 1px`, `borderColor: gray.200`, `shadow: sm`**을 적용하여 플로팅 효과를 줌. (v1.52)
*   **메타데이터 스타일**: 담당자(`lastOperator`, `editOperators`) 성함은 정보 위계 조절을 위해 **`fontSize: xs`**와 **`gray.500`** 컬러를 사용함. (v1.47)
*   **행 하이라이트**: 체크박스로 선택된 행은 배경색을 **`brand.50`**으로 변경하여 선택 상태를 명확히 함.

## 3. 데이터 및 테이블 로직 (Logic & Architecture)

### 3.1 누적 로그 시스템 (Cumulative Log)
*   **In-place Update**: 신규 입출고가 아닌 '정보 수정' 시 기존 레코드를 업데이트함.
*   **동기화 전략**: `editTime`, `editOperators`, `editLog` 필드에 내역을 줄바꿈(`\n`)으로 누적.
*   **특수 제어 기호**: `editLog` 내부의 논리적 줄바꿈은 `\r`을 사용하고, UI 렌더링 시 이를 `\n`으로 치환하여 컬럼 간 높이 동기화를 보장함.

### 3.2 테이블 구조 (Detailed Widths)
*   **Inventory Mode (13 Columns)**:
    *   3%, 6%(순번/중앙), 9%(카테고리/중앙), 12%(물품명/좌측), 8%(등록일시/중앙), 6%(담당자/중앙), 6%(입고/중앙), 6%(출고/중앙), 12%(납품처/좌측), 6%(재고/중앙), 8%(수정일시/중앙), 4%(담당자/중앙), 14%(수정사항/좌측) (v1.79)
*   **Product Mode (6 Columns)**:
    *   5%(Ξ/중앙), 9%(카테고리/중앙), 13%(상품명/좌측), 9%(판매가/중앙), 54%(상품 구성/좌측), 10%(상세/중앙)
    *   ※ `product-management.plan.md`의 마스터 데이터 스키마를 최우선 표준으로 삼음. (v1.78)
*   **Table Layout**: 
    *   `tableLayout: fixed` 적용으로 컬럼 너비 무결성 유지.
    *   **높이 제어**: `maxH: calc(100vh - 300px)` (Sticky Header 및 스크롤 영역 최적화).
*   **순번 표시 정칙**: 테이블의 순번은 장부의 최신성을 위해 **[전체 데이터 수 - 현재 인덱스]** 수식을 사용하여 내림차순으로 표시함.
*   **Grid Integrity**: 수정 이력이 없어도 수직 구분선과 중앙 정렬된 하이픈(`-`)을 유지하여 격자 구조를 보존함.
*   **Row Interaction**: 행 선택은 체크박스 영역 클릭으로 제한하며, 헤더의 전체 선택 체크박스는 시각적 간결함을 위해 제거함.
*   **수정내용 그리드 비율**: '수정사항' 컬럼 내부는 `8fr(일시) : 4fr(담당자) : 14fr(내용)`의 정밀한 Grid 비율로 레이아웃을 고정함.
*   **테이블 물리적 제한**: 가독성을 위해 최대 높이는 `calc(100vh - 300px)`로 제한하며, 헤더는 스크롤 시 상단에 **Sticky(고정)**됨.

### 3.3 정렬 및 필터 로직 (Filtering & Sorting)
*   **장부형 정렬 (Ledger Mode)**: 
    *   모든 데이터는 등록/수정 일시(`createdAt`) 기준 최신순(Descending)으로 정렬됨.
    *   **데이터 동기화**: Firestore 인덱스 누락에 의한 데이터 유실 방지를 위해 서버측 `orderBy` 대신 **클라이언트측 실시간 정렬**을 수행함. (v1.29)
    *   **정렬 보정**: `createdAt` 필드가 누락된 레거시 데이터는 시스템상 `0`으로 처리하여 리스트 최하단에 안전하게 배치함.
*   **레거시 타입 보존**: `type` 필드가 명시되지 않은 기존 데이터는 기본적으로 `inventory`(재고) 타입으로 간주하여 필터링함.
*   **상태별 필터**:
    *   **입고**: `lastInflow` 값이 존재하는 레코드.
    *   **출고**: `lastOutflow` 값이 존재하는 레코드.
    *   **수정사항**: `editLog` 기록이 존재하는 레코드.
*   **검색 스코프 (Search Scope)**: 검색어는 `물품명`과 `카테고리` 필드 전체를 대상으로 실시간 필터링을 수행함.
*   **데이터 소유권 및 수정 제약**: 
    *   **입고(Inflow)**: 재고 관리 페이지에서 자유롭게 등록 및 수정이 가능함.
    *   **출고(Outflow)**: 고객 관리 페이지의 보고서와 연동된 데이터로, 재고 페이지에서는 **수정이 불가능(Read-Only)**하며 수정 시 '내용수정' 버튼이 비활성화됨.
*   **자동 로그 라벨링 (Labeling Rules)**:
    *   수량 변동 시: `입고 수량 변경` (입고 전용).
    *   정보 변동 시: `정보 변경` (이름 & 카테고리 동시), `물품명 변경`, `카테고리 변경`.
*   **이력 누적 원칙 (Accumulation)**: 
    *   **데이터 구조**: 개별 수정 건은 줄바꿈(`\n`)으로 구분하며, 한 수정 건 내부의 상세 항목(사유 등)은 캐리지 리턴(`\r`)을 사용하여 기록함.
    *   **정밀 간격**: 수정 이력 그리드 내부 아이템은 **`px: 2` (일시/담당자)** 및 **`px: 3`, `py: 1` (내용)**의 미세 여백을 적용함. (v1.52)
    *   **출력 변환**: UI 렌더링 시 `replace(/\r/g, "\n")`를 통해 내부 구분자를 실제 줄바꿈으로 변환하고, **`whiteSpace: pre-wrap`**을 적용하여 다단 줄바꿈을 시각화함. (v1.50)
    *   **일시 정규화**: 로그 출력 시 모든 날짜/시간 데이터는 `replace(/\s+/g, "  ")`를 통해 공백 2칸 표준을 강제함.

### 3.3 등록 및 수정 검증 (Validation)
*   **신규 등록의 성격 (Initial Inflow)**: 현재 시스템의 모든 '재고 추가'는 최초 등록 시점에 **'입고(lastInflow)'** 데이터로 간주되어 수량이 가산됨.
*   **재고 이월 및 누적 (Stock Carry-over)**: 신규 입고 등록 시, 동일 품목(카테고리+이름)의 **가장 최신(Latest) 행**을 찾아 신규 물량을 합산한 값을 새 행의 `stock`으로 저장함.
*   **장부 자가 치유 시스템 (Global Self-Healing Ledger)**: 
    *   **전수 재계산 (Full Audit)**: 신규 등록 및 수정 등 **모든 입/출고 이벤트** 발생 시, 해당 품목의 전체 역사를 바닥부터 다시 합산함. 
    *   **무결성 강제 (Enforced Integrity)**: 개별 행의 `stock` 필드에 의존하지 않고, 원천 데이터(`inflow/outflow`)만을 기준으로 재계산하여 과거의 어떤 데이터 오염(수치 오류 등)도 즉시 자동 복구함. (v1.71)
*   **자동 완성 (Auto-Suggestion)**: 
    *   물품명 입력 시 기존 데이터베이스를 조회하여 매칭되는 카테고리 제안 및 자동 입력을 지원함.
    *   **목록 상세**: 제안 항목은 [물품명(**`semibold`, `gray.700`**) + 카테고리 배지(`gray`, `xs`)] 조합으로 구성하며, 개별 항목 호버 시 **`brand.50`** 배경색을 적용함.
    *   **레이어**: `zIndex: 10`, `maxH: 200px`, `boxShadow: lg` 적용. (v1.51)
    *   **목록 제한**: 가독성을 위해 **최대 5개**의 유니크한 항목만 노출하며, 중복 데이터는 사전에 필터링함.
    *   **포커스 유지**: 입력 리스트 클릭을 허용하기 위해 `200ms`의 포커스 아웃 지연(Delay)을 적용함.
*   **수량 제약 및 포맷 (Format & Cap)**: 
    *   **입력 보안**: 숫자 이외의 문자 입력을 차단하기 위해 `replace(/\D/g, "")` 정규식 필터링을 실시간 적용함.
    *   단위 입고 수량은 최대 9,999개로 제한하며, 모든 수치 출력 및 입력 시 **천 단위 구분 기호(,)**를 적용함.
*   **필수 항목 표시 (Mandatory Indicator)**: 카테고리, 물품명, 수량, 수정 사유(필요 시) 등 필수 필드는 레이블 옆에 **빨간색 점(Asterisk)**을 표기하여 시각적 정합성을 고객 관리 페이지와 통일함. (v1.30)
*   **수정 사유 조건부 노출 및 강제**: 
    *   수량 변경 시에만 활성화되며, 활성 시 필수로 입력받음.
    *   **강조 스타일**: 사유 입력 필드는 시각적 주의를 위해 **`red.200` 보더**와 **`red.500` 포커스 보더**를 적용함. (v1.33)
*   **조건부 로그 포맷**: 
    *   수정 이력 기록 시, 수량 변경에 의한 사유가 있는 경우에만 내역 끝에 `\r(*사유)` 태그를 결합함.
    *   **화살표 기호**: 값의 변화를 나타낼 때 ` → ` (앞뒤 공백 1칸 포함) 기호를 표준으로 사용함.
*   **UI 피드백 (Toasts & Loading)**:
    *   **Loading**: 데이터 로드 시 중앙에 **`brand.500` 스피너(Spinner)**를 노출함. (v1.46)
    *   **Warning**: 입력 누락("입력 확인"), 수량 1미만("수량 확인").
    *   **Success**: 등록 완료("정상 등록 및 장부 정합성 자동 교정 완료"), 정보 수정 완료("물품 정보 수정 완료"), 재고 수정 완료("장부 정합성 자가 치유 및 보정 완료"). (v1.71)
    *   **Info**: 변경 사항 없음("변경 사항 없음").
    *   **Error**: 시스템 오류("작업 실패").
*   **작업 중 UX (Submitting)**: 등록/수정 중에는 `loadingText`("등록 중"/"수정 중")를 표시하며, 취소 버튼을 비활성화하여 중복 요청을 방지함.
*   **등록 모달 규격 (Modal Specs)**: 
    *   `size: md`, `spacing: 6`, **`minH: 300px`** 적용 (컴팩트한 UX 및 드롭다운 가시성 최적화). (v1.57)
    *   **타이틀**: `재고 물품 등록` 또는 `재고 물품 상세/수정`으로 동적 전환.
    *   **상태 리셋 (Hard Reset)**: 모달 닫기 시 입력 필드(카테고리, 물품명, 수량, 사유, 제안목록 등)를 즉시 초기화하여 잔상 발생을 방지함.
    *   **푸터 액션**:
        *   **취소**: `version: secondary`, `isDisabled: isSubmitting` 적용.
        *   **메인**: 클릭 시 `handleSubmit` 실행, 상태에 따라 **"등록하기"** 또는 **"수정"** 라벨 노출. (v1.52)
    *   **행위 제한**: 데이터 보호를 위해 **`closeOnOverlayClick: false`**(배경 클릭 시 닫기 방지)와 **`isCentered`**(중앙 배치)를 강제함.
*   **수정 모달 데이터 로드 원칙 (Inflow-based Initialization)**: 
    *   내용 수정 모달(Edit Mode) 호출 시, 수량(qty) 필드에는 현재 재고(stock)가 아닌, **해당 내역 생성 시 입력했던 최초 입고 수량(lastInflow)**을 기본값으로 노출함.
    *   **목적**: '총 재고'라는 결과값이 아닌 '입고 수량'이라는 원인 행위를 수정한다는 개념적 정합성을 확보함. (v1.61)
*   **1회 1항목 수정 원칙 (Strict Single-Field Update)**: 
*   **1회 1항목 수정 원칙 (Strict Single-Field Update)**: 
    *   내용 수정 모달(Edit Mode)에서 **카테고리, 물품명, 수량** 중 하나의 항목이라도 기존 데이터와 달라지는 즉시, **다른 모든 입력 항목은 비활성화(`disabled`)** 처리됨.
    *   **목적**: 동시 수정을 원천 차단하여 수정 이력(Audit Log)의 원인과 결과(Delta) 매핑 정확도를 100% 보장함. (v1.60)
    *   **상태 복구**: 수정 중인 내용을 다시 원본 데이터와 동일하게 되돌리면 모든 항목이 다시 활성화됨.
*   **Product Mode 상태 알림**: 상품 모드(Product)의 CRUD는 설계 초기 단계로, 현재는 데이터 조회 및 '재고'와 동일한 폼 기반의 임시 등록만 지원함. (정밀 관리창 추후 개발 예정)

## 4. UI 컴포넌트 표준 (Global Standard)

### 4.1 데이터 구조 (AssetData Full-Schema)
*   **기본 정보**: `id`, `category`, `name`, `type` (inventory/product), **`createdAt`** (정렬 기준 Timestamp).
*   **상품 전용**: `spec` (규격), `unit` (단위), `price` (단가), `notes` (비고).
*   **재고/이력**: 
    *   `stock`: 현재 시점의 누적 총 재고.
    *   `lastActionDate`: **최초 등록 일시** (Original Registration Date).
    *   `lastOperator`: 최초 등록자 또는 마지막 수정 주체 (**실제 로그인 성함 강제**, 인증 정보 부재 시 **"인증 오류"** 토스트와 함께 진행 차단). (v1.38)
    *   `lastInflow` / `lastOutflow`: 해당 행의 발생 수량.
    *   `lastRecipient`: 납품처 정보 (※ 현재 버전 모달에서는 조회 전용/수정 비활성).
    *   `editTime` / `editOperators` / `editLog`: 수정 이력 누적 필드 (`\n` 및 `\r` 기반).

### 4.2 아키텍처 원칙
*   **Anti-Hardcoding**: 카테고리 목록(`INVENTORY_CATEGORIES`)은 상수로 관리함.
    *   **공식 카테고리**: 빔 프로젝터, TV, 터치 센서, 브라켓, 거치대, 케이블, 소모품 (총 7종)
*   **컴포넌트화**: 툴팁(`TruncatedTooltip`), 하이라이트(`HighlightedText`), 테이블 뷰를 메인 로직에서 분리하여 순도 유지.

---

## 5. 버전 기록 (Version History)

| 버전 | 날짜 | 변경 사항 |
|:---|:---|:---|
| v0.6 | 2026-01-31 | 초기 컬럼 사양 및 수치 파싱 정의 |
| v0.9 | 2026-01-31 | In-place 업데이트 및 화살표(`→`) 로그 포맷 도입 |
| v1.2 | 2026-01-31 | Connected Dividers 및 수직 격자 보존 사양 확립 |
| v1.5 | 2026-01-31 | `\r` 특수기호 기반 컬럼 동기화 로직 구현 |
| v1.9 | 2026-01-31 | 비고 사항 수정 및 히스토리 기록 연동 |
| v1.10 | 2026-01-31 | 내용 수정 버튼 보라색 Outline 스타일 적용 |
| v1.12 | 2026-01-31 | 고객 관리 페이지 기준 글로벌 필터 표준(210px) 통합 |
| v1.13 | 2026-01-31 | 코드 딥다이브 리팩토링 및 기획서 Full-Version 복구 |
| v1.14 | 2026-01-31 | 검색 강조, 자동 완성, 중복 차단 등 기능적 세부 사양 완결 |
| v1.15 | 2026-01-31 | 슬라이딩 토글, 모드별 컬럼 상세, 스마트 툴팁 규칙 등 최종 사양 통합 |
| v1.16 | 2026-01-31 | 임의 추가 기능(중복 차단, 자동 완성 등) 제거 및 기획서 정화 |
| v1.18 | 2026-01-31 | 재고 이월 누적(Stock Carry-over), 자동 완성 복구, 9,999 캡 적용 |
| v1.19 | 2026-01-31 | 수정 시 델타 기반 연쇄 업데이트(Cascading Update) 로직 반영 |
| v1.20 | 2026-01-31 | 전수 조사 기반 누락 사양(그리드 비율, 라벨링 규칙 등) 최종 보강 |
| v1.21 | 2026-01-31 | 물리적 컬럼 너비(%), 공식 카테고리(7종) 및 렌더링 한계 수치 명시 |
| v1.22 | 2026-01-31 | 레거시 예외 처리, 정렬 보정 및 Toast/UX 세부 사양 전수 보강 |
| v1.23 | 2026-01-31 | 가변 정렬, 모드 전환 리셋, 로그/사유 조건부 규칙 최종 완결 |
| v1.24 | 2026-01-31 | 수정 사유 입력창 조건부 노출(활성/비활성) 및 필수성 사양 정교화 |
| v1.25 | 2026-01-31 | 역순 번호 산출식, 검색 보안, 멀티라인 툴팁 및 공백 정규화 로직 완결 |
| v1.26 | 2026-01-31 | 로그 기호(→), 행 하이라이트 컬러, 입고 등록 본질 및 미사용 찌꺼기 제거 완결 |
| v1.27 | 2026-02-01 | 수치 가중치(Extrabold/Semibold), 전용 아이콘셋 및 부호 간격 디테일 완결 |
| v1.28 | 2026-02-01 | 천 단위 콤마 포맷, 제안 개수 제한(5개) 및 툴팁 시각 속성 최종 완결 |
| v1.29 | 2026-02-01 | 클라이언트 정렬(Index 안전), 하이라이트/부호 미세 스타일 및 모달 규격 완결 |
| v1.30 | 2026-02-01 | 필수 항목 빨간색 점(Asterisk) 표시 표준 도입 및 상품 모드 개발 유예 명시 |
| v1.31 | 2026-02-01 | 이력 누적 원칙(\n), 테이블 높이 수식, 상세 Toast 규칙 및 작업 중 UX 완결 |
| v1.32 | 2026-02-01 | 데이터 소유권 정의(입고 전용 수정) 및 출고 데이터 수정 차단 사양 확립 |
| v1.35 | 2026-02-01 | 스크롤 기반 툴팁 판별, 내/외부 로그 구분자(\r/\n) 및 전역 날짜 정규화 완결 |
| v1.36 | 2026-02-01 | 등록일시 규정, 관리자 Fallback, 하이픈 컬러 및 검색 문구 등 초정밀 동기화 완결 |
| v1.37 | 2026-02-01 | 인증 정보 부재 시 수정 차단(관리자 Fallback 제거) 및 논리적 정합성 강화 |
| v1.38 | 2026-02-01 | 선택 영역 커서(pointer), 입출력 리셋 로직, 부재 문구 및 인증 에러 타이틀 완결 |
| v1.39 | 2026-02-01 | 데이터별 정렬 규칙(L/R), 그리드 컬러(gray.50/100) 및 물리적 높이 규격 완결 |
| v1.40 | 2026-02-01 | 토글 물리 수식(140x34), 헤더 가중치(800), 검색 인터페이스 및 정렬 규칙 전수 완결 |
| v1.41 | 2026-02-01 | 2단 복합 헤더(Span), 수량 입력 정규식(\D) 및 툴팁 폰트 규격 최종 완결 |
| v1.42 | 2026-02-01 | 사용자 선택 방지(none), 로그 행간(1.4), 셀 Overflow 제어 및 체크박스 컬러 완결 |
| v1.43 | 2026-02-01 | 수직 정렬 원칙(Top/Middle), 툴팁 위치(Top) 및 버튼/제안목록 상세 규격 완결 |
| v1.45 | 2026-02-01 | 행 높이(45px), 선택 배경(brand.50), 토글식 선택 해제 및 대소문자 무시 검색 완결 |
| v1.46 | 2026-02-01 | 체크박스 컬러(brand), 로딩 스피너, 행 호버 효과 및 상품 헤더 물리 규격 완결 |
| v1.47 | 2026-02-01 | 수직 정렬 이원화(Top/Middle), 담당자 타이포 규격 및 필터 구분선 상세 완결 |
| v1.50 | 2026-02-01 | 로그 출력 변환(\r→\n), pre-wrap 사양 및 납품처 가변 정렬 등 최종 100% 동기화 완결 |
| v1.51 | 2026-02-01 | 범용 가변 정렬 로직, 상품 비고 가공 규칙, 제안목록 호버 및 zIndex 레이어 완결 |
| v1.52 | 2026-02-01 | 컨테이너 보더(gray.200), 정밀 패딩(py:2), 동적 버튼 라벨 및 모달 푸터 상세 완결 |
| v1.55 | 2026-02-01 | 드롭다운 가시성 개선을 위한 모달 최소 높이(500px) 규격 반영 |
| v1.56 | 2026-02-01 | 모달 최소 높이 최적화 조정 (500px → 400px) |
| v1.57 | 2026-02-01 | 모달 최소 높이 최종 압축 조정 (400px → 300px) |
| v1.60 | 2026-02-01 | 1회 1항목 수정 원칙(Single-Field Update) 및 상호 배제형 비활성화 로직 완결 |
| v1.61 | 2026-02-01 | 재고(Stock)가 아닌 입고 수량(Inflow) 기반 수정 모달 초기화 로직 완결 |
| v1.65 | 2026-02-01 | 델타 기반 재고 보정 수식 교정 (Transactional Delta → Cascading) 완결 |
| v1.70 | 2026-02-01 | 전수 재계산 기반 장부 자가 치유(Self-Healing Ledger) 엔진 구축 완결 |
| v1.71 | 2026-02-01 | 신규 등록/수정 전체에 자가 치유 로직 통합 및 과거 오염 데이터 소급 복구 표준 완결 |
| v1.73 | 2026-02-01 | **미요청 UI 사양(설명문, 섀도우) 제거 및 사용자 지시 기반 순수 표준 정화 완결** |
| v1.74 | 2026-02-01 | **리스트 호버 효과(gray.50) 통일 및 상품 모드 컬럼 구성(6열) 동기화 완결** |
| v1.75 | 2026-02-01 | **행 클릭 시 발생하는 깜빡임(whileTap) 효과 제거 및 인터랙션 정규화 완결** |
| v1.76 | 2026-02-01 | **상품 테이블 헤더에서 드래그 아이콘(Ξ) 제거 및 공간 여백화 완결** |
| v1.77 | 2026-02-01 | **내용수정 버튼 상시 노출 및 선택 상태에 따른 활성/비활성 제어 적용** |
| v1.78 | 2026-02-01 | **카테고리, 입/출고, 재고 칼럼 정렬 표준을 중앙(Center)으로 전수 통일 완결** |
| v1.79 | 2026-02-01 | **수정내용 내 담당자 칼럼을 포함한 전역 담당자 필드 중앙 정렬 표준 명시 완결** |
